<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Inventory Management</title>

<style>
/* ===== ServiceNow-like UI ===== */
body {
  margin: 0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background: #f5f6f7;
}

.header {
  height: 56px;
  background: #0b5cab;
  color: white;
  display: flex;
  align-items: center;
  padding: 0 20px;
  font-size: 18px;
  font-weight: 600;
}

.container {
  display: flex;
  height: calc(100vh - 56px);
}

.sidebar {
  width: 240px;
  background: #1f2937;
  color: #d1d5db;
  padding-top: 20px;
}

.sidebar h3 {
  color: #9ca3af;
  font-size: 12px;
  padding: 10px 20px;
  text-transform: uppercase;
}

.sidebar a {
  display: block;
  padding: 12px 20px;
  color: #d1d5db;
  text-decoration: none;
}

.sidebar a:hover {
  background: #374151;
}

.main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

.card {
  background: white;
  border-radius: 6px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

button {
  background: #0b5cab;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 4px;
  cursor: pointer;
}

button.secondary {
  background: #6b7280;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
}

th, td {
  padding: 10px;
  border-bottom: 1px solid #e5e7eb;
  text-align: left;
}

th {
  background: #f9fafb;
  font-weight: 600;
}

.value {
  font-weight: bold;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: white;
  padding: 20px;
  width: 400px;
  border-radius: 6px;
}

input {
  width: 100%;
  padding: 8px;
  margin: 6px 0;
  border: 1px solid #d1d5db;
  border-radius: 4px;
}
</style>
</head>

<body>

<div class="header">
  Inventory Management
</div>

<div class="container">

  <div class="sidebar">
    <h3>Inventory</h3>
    <a href="#" onclick="showInventory()">Products</a>
    <a href="#" onclick="showReports()">Reports</a>
  </div>

  <div class="main">
    <div class="card">
      <h2>Inventory Items</h2>
      <button onclick="openModal()">âž• New Product</button>

      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>SKU</th>
            <th>Qty</th>
            <th>Cost</th>
            <th>Total Value</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="inventoryTable"></tbody>
      </table>
    </div>
  </div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>Add Product</h3>
    <input id="name" placeholder="Product Name">
    <input id="sku" placeholder="SKU">
    <input id="cost" type="number" placeholder="Cost Per Unit">
    <input id="qty" type="number" placeholder="Quantity">
    <button onclick="addProduct()">Save</button>
    <button class="secondary" onclick="closeModal()">Cancel</button>
  </div>
</div>

<script>
let inventory = JSON.parse(localStorage.getItem("inventory")) || [];

function render() {
  const table = document.getElementById("inventoryTable");
  table.innerHTML = "";

  inventory.forEach((p, i) => {
    table.innerHTML += `
      <tr>
        <td>${p.name}</td>
        <td>${p.sku}</td>
        <td>${p.qty}</td>
        <td>$${p.cost.toFixed(2)}</td>
        <td class="value">$${(p.qty * p.cost).toFixed(2)}</td>
        <td>
          <button onclick="stockIn(${i})">IN</button>
          <button class="secondary" onclick="stockOut(${i})">OUT</button>
        </td>
      </tr>
    `;
  });

  localStorage.setItem("inventory", JSON.stringify(inventory));
}

function openModal() {
  document.getElementById("modal").style.display = "flex";
}

function closeModal() {
  document.getElementById("modal").style.display = "none";
}

function addProduct() {
  inventory.push({
    name: name.value,
    sku: sku.value,
    cost: parseFloat(cost.value),
    qty: parseInt(qty.value)
  });
  closeModal();
  render();
}

function stockIn(i) {
  const qty = parseInt(prompt("Add quantity"));
  const cost = parseFloat(prompt("Unit cost"));
  inventory[i].cost =
    ((inventory[i].cost * inventory[i].qty) + (cost * qty)) /
    (inventory[i].qty + qty);
  inventory[i].qty += qty;
  render();
}

function stockOut(i) {
  const qty = parseInt(prompt("Remove quantity"));
  if (qty <= inventory[i].qty) {
    inventory[i].qty -= qty;
    render();
  } else {
    alert("Not enough stock");
  }
}

function showInventory() {}
function showReports() {
  alert("Reports coming next");
}

render();
</script>

</body>
</html>
